const supported=new Set(["\uD83D\uDC4B","\uD83E\uDD1A","\uD83D\uDD90\uFE0F","\u270B","\uD83D\uDD96","\uD83D\uDC4C","\uD83E\uDD0F","\u270C\uFE0F","\uD83E\uDD1E","\uD83E\uDD1F","\uD83E\uDD18","\uD83E\uDD19","\uD83D\uDC48","\uD83D\uDC49","\uD83D\uDC46","\uD83D\uDD95","\uD83D\uDC47","\u261D\uFE0F","\uD83D\uDC4D","\uD83D\uDC4E","\u270A","\uD83D\uDC4A","\uD83E\uDD1B","\uD83E\uDD1C","\uD83D\uDC4F","\uD83D\uDE4C","\uD83D\uDC50","\uD83E\uDD32","\uD83D\uDE4F","\u270D\uFE0F","\uD83D\uDC85","\uD83E\uDD33","\uD83D\uDCAA","\uD83E\uDDB5","\uD83E\uDDB6","\uD83D\uDC42","\uD83E\uDDBB","\uD83D\uDC43","\uD83D\uDC76","\uD83E\uDDD2","\uD83D\uDC66","\uD83D\uDC67","\uD83E\uDDD1","\uD83D\uDC71","\uD83D\uDC68","\uD83E\uDDD4","\uD83D\uDC71\u200D\u2642\uFE0F","\uD83D\uDC68\u200D\uD83E\uDDB0","\uD83D\uDC68\u200D\uD83E\uDDB1","\uD83D\uDC68\u200D\uD83E\uDDB3","\uD83D\uDC68\u200D\uD83E\uDDB2","\uD83D\uDC69","\uD83D\uDC71\u200D\u2640\uFE0F","\uD83D\uDC69\u200D\uD83E\uDDB0","\uD83D\uDC69\u200D\uD83E\uDDB1","\uD83D\uDC69\u200D\uD83E\uDDB3","\uD83D\uDC69\u200D\uD83E\uDDB2","\uD83E\uDDD3","\uD83D\uDC74","\uD83D\uDC75","\uD83D\uDE4D","\uD83D\uDE4D\u200D\u2642\uFE0F","\uD83D\uDE4D\u200D\u2640\uFE0F","\uD83D\uDE4E","\uD83D\uDE4E\u200D\u2642\uFE0F","\uD83D\uDE4E\u200D\u2640\uFE0F","\uD83D\uDE45","\uD83D\uDE45\u200D\u2642\uFE0F","\uD83D\uDE45\u200D\u2640\uFE0F","\uD83D\uDE46","\uD83D\uDE46\u200D\u2642\uFE0F","\uD83D\uDE46\u200D\u2640\uFE0F","\uD83D\uDC81","\uD83D\uDC81\u200D\u2642\uFE0F","\uD83D\uDC81\u200D\u2640\uFE0F","\uD83D\uDE4B","\uD83D\uDE4B\u200D\u2642\uFE0F","\uD83D\uDE4B\u200D\u2640\uFE0F","\uD83E\uDDCF","\uD83E\uDDCF\u200D\u2642\uFE0F","\uD83E\uDDCF\u200D\u2640\uFE0F","\uD83D\uDE47","\uD83D\uDE47\u200D\u2642\uFE0F","\uD83D\uDE47\u200D\u2640\uFE0F","\uD83E\uDD26","\uD83E\uDD26\u200D\u2642\uFE0F","\uD83E\uDD26\u200D\u2640\uFE0F","\uD83E\uDD37","\uD83E\uDD37\u200D\u2642\uFE0F","\uD83E\uDD37\u200D\u2640\uFE0F","\uD83D\uDC68\u200D\u2695\uFE0F","\uD83D\uDC69\u200D\u2695\uFE0F","\uD83D\uDC68\u200D\uD83C\uDF93","\uD83D\uDC69\u200D\uD83C\uDF93","\uD83D\uDC68\u200D\uD83C\uDFEB","\uD83D\uDC69\u200D\uD83C\uDFEB","\uD83D\uDC68\u200D\u2696\uFE0F","\uD83D\uDC69\u200D\u2696\uFE0F","\uD83D\uDC68\u200D\uD83C\uDF3E","\uD83D\uDC69\u200D\uD83C\uDF3E","\uD83D\uDC68\u200D\uD83C\uDF73","\uD83D\uDC69\u200D\uD83C\uDF73","\uD83D\uDC68\u200D\uD83D\uDD27","\uD83D\uDC69\u200D\uD83D\uDD27","\uD83D\uDC68\u200D\uD83C\uDFED","\uD83D\uDC69\u200D\uD83C\uDFED","\uD83D\uDC68\u200D\uD83D\uDCBC","\uD83D\uDC69\u200D\uD83D\uDCBC","\uD83D\uDC68\u200D\uD83D\uDD2C","\uD83D\uDC69\u200D\uD83D\uDD2C","\uD83D\uDC68\u200D\uD83D\uDCBB","\uD83D\uDC69\u200D\uD83D\uDCBB","\uD83D\uDC68\u200D\uD83C\uDFA4","\uD83D\uDC69\u200D\uD83C\uDFA4","\uD83D\uDC68\u200D\uD83C\uDFA8","\uD83D\uDC69\u200D\uD83C\uDFA8","\uD83D\uDC68\u200D\u2708\uFE0F","\uD83D\uDC69\u200D\u2708\uFE0F","\uD83D\uDC68\u200D\uD83D\uDE80","\uD83D\uDC69\u200D\uD83D\uDE80","\uD83D\uDC68\u200D\uD83D\uDE92","\uD83D\uDC69\u200D\uD83D\uDE92","\uD83D\uDC6E","\uD83D\uDC6E\u200D\u2642\uFE0F","\uD83D\uDC6E\u200D\u2640\uFE0F","\uD83D\uDD75\uFE0F","\uD83D\uDD75\uFE0F\u200D\u2642\uFE0F","\uD83D\uDD75\uFE0F\u200D\u2640\uFE0F","\uD83D\uDC82","\uD83D\uDC82\u200D\u2642\uFE0F","\uD83D\uDC82\u200D\u2640\uFE0F","\uD83D\uDC77","\uD83D\uDC77\u200D\u2642\uFE0F","\uD83D\uDC77\u200D\u2640\uFE0F","\uD83E\uDD34","\uD83D\uDC78","\uD83D\uDC73","\uD83D\uDC73\u200D\u2642\uFE0F","\uD83D\uDC73\u200D\u2640\uFE0F","\uD83D\uDC72","\uD83E\uDDD5","\uD83E\uDD35","\uD83D\uDC70","\uD83E\uDD30","\uD83E\uDD31","\uD83D\uDC7C","\uD83C\uDF85","\uD83E\uDD36","\uD83E\uDDB8","\uD83E\uDDB8\u200D\u2642\uFE0F","\uD83E\uDDB8\u200D\u2640\uFE0F","\uD83E\uDDB9","\uD83E\uDDB9\u200D\u2642\uFE0F","\uD83E\uDDB9\u200D\u2640\uFE0F","\uD83E\uDDD9","\uD83E\uDDD9\u200D\u2642\uFE0F","\uD83E\uDDD9\u200D\u2640\uFE0F","\uD83E\uDDDA","\uD83E\uDDDA\u200D\u2642\uFE0F","\uD83E\uDDDA\u200D\u2640\uFE0F","\uD83E\uDDDB","\uD83E\uDDDB\u200D\u2642\uFE0F","\uD83E\uDDDB\u200D\u2640\uFE0F","\uD83E\uDDDC","\uD83E\uDDDC\u200D\u2642\uFE0F","\uD83E\uDDDC\u200D\u2640\uFE0F","\uD83E\uDDDD","\uD83E\uDDDD\u200D\u2642\uFE0F","\uD83E\uDDDD\u200D\u2640\uFE0F","\uD83D\uDC86","\uD83D\uDC86\u200D\u2642\uFE0F","\uD83D\uDC86\u200D\u2640\uFE0F","\uD83D\uDC87","\uD83D\uDC87\u200D\u2642\uFE0F","\uD83D\uDC87\u200D\u2640\uFE0F","\uD83D\uDEB6","\uD83D\uDEB6\u200D\u2642\uFE0F","\uD83D\uDEB6\u200D\u2640\uFE0F","\uD83E\uDDCD","\uD83E\uDDCD\u200D\u2642\uFE0F","\uD83E\uDDCD\u200D\u2640\uFE0F","\uD83E\uDDCE","\uD83E\uDDCE\u200D\u2642\uFE0F","\uD83E\uDDCE\u200D\u2640\uFE0F","\uD83D\uDC68\u200D\uD83E\uDDAF","\uD83D\uDC69\u200D\uD83E\uDDAF","\uD83D\uDC68\u200D\uD83E\uDDBC","\uD83D\uDC69\u200D\uD83E\uDDBC","\uD83D\uDC68\u200D\uD83E\uDDBD","\uD83D\uDC69\u200D\uD83E\uDDBD","\uD83C\uDFC3","\uD83C\uDFC3\u200D\u2642\uFE0F","\uD83C\uDFC3\u200D\u2640\uFE0F","\uD83D\uDC83","\uD83D\uDD7A","\uD83D\uDD74\uFE0F","\uD83E\uDDD6","\uD83E\uDDD6\u200D\u2642\uFE0F","\uD83E\uDDD6\u200D\u2640\uFE0F","\uD83E\uDDD7","\uD83E\uDDD7\u200D\u2642\uFE0F","\uD83E\uDDD7\u200D\u2640\uFE0F","\uD83C\uDFC7","\uD83C\uDFC2","\uD83C\uDFCC\uFE0F","\uD83C\uDFCC\uFE0F\u200D\u2642\uFE0F","\uD83C\uDFCC\uFE0F\u200D\u2640\uFE0F","\uD83C\uDFC4","\uD83C\uDFC4\u200D\u2642\uFE0F","\uD83C\uDFC4\u200D\u2640\uFE0F","\uD83D\uDEA3","\uD83D\uDEA3\u200D\u2642\uFE0F","\uD83D\uDEA3\u200D\u2640\uFE0F","\uD83C\uDFCA","\uD83C\uDFCA\u200D\u2642\uFE0F","\uD83C\uDFCA\u200D\u2640\uFE0F","\u26F9\uFE0F","\u26F9\uFE0F\u200D\u2642\uFE0F","\u26F9\uFE0F\u200D\u2640\uFE0F","\uD83C\uDFCB\uFE0F","\uD83C\uDFCB\uFE0F\u200D\u2642\uFE0F","\uD83C\uDFCB\uFE0F\u200D\u2640\uFE0F","\uD83D\uDEB4","\uD83D\uDEB4\u200D\u2642\uFE0F","\uD83D\uDEB4\u200D\u2640\uFE0F","\uD83D\uDEB5","\uD83D\uDEB5\u200D\u2642\uFE0F","\uD83D\uDEB5\u200D\u2640\uFE0F","\uD83E\uDD38","\uD83E\uDD38\u200D\u2642\uFE0F","\uD83E\uDD38\u200D\u2640\uFE0F","\uD83E\uDD3D","\uD83E\uDD3D\u200D\u2642\uFE0F","\uD83E\uDD3D\u200D\u2640\uFE0F","\uD83E\uDD3E","\uD83E\uDD3E\u200D\u2642\uFE0F","\uD83E\uDD3E\u200D\u2640\uFE0F","\uD83E\uDD39","\uD83E\uDD39\u200D\u2642\uFE0F","\uD83E\uDD39\u200D\u2640\uFE0F","\uD83E\uDDD8","\uD83E\uDDD8\u200D\u2642\uFE0F","\uD83E\uDDD8\u200D\u2640\uFE0F","\uD83D\uDEC0","\uD83D\uDECC","\uD83E\uDDD1\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1","\uD83D\uDC6D","\uD83D\uDC6B","\uD83D\uDC6C"]);function isModifiable(a){return supported.has(a)}const ZERO_WIDTH_JOINER="\u200D",VARIATION_16=65039;function applyTone(a,b){const c=removeTone(a);if(!isModifiable(c))return a;const d=toneModifier(b);return d?c.split(ZERO_WIDTH_JOINER).map(a=>isModifiable(a)?tint(a,d):a).join(ZERO_WIDTH_JOINER):a}function applyTones(a,b){const c=removeTone(a);if(!isModifiable(c))return a;const d=b.map(a=>toneModifier(a));return c.split(ZERO_WIDTH_JOINER).map(a=>{if(!isModifiable(a))return a;const b=d.shift();return b?tint(a,b):a}).join(ZERO_WIDTH_JOINER)}function removeTone(a){return[...a].filter(a=>!isTone(a.codePointAt(0))).join("")}function tint(a,b){const c=[...a].map(a=>a.codePointAt(0));return c[1]&&(isTone(c[1])||c[1]===VARIATION_16)?c[1]=b:c.splice(1,0,b),String.fromCodePoint(...c)}function isTone(a){return 127995<=a&&127999>=a}function toneModifier(a){return 1===a?127995:2===a?127996:3===a?127997:4===a?127998:5===a?127999:null}class GEmojiElement extends HTMLElement{static get emojiToUriCallback(){return fnEmojiToUri}static set emojiToUriCallback(a){fnEmojiToUri=a}get image(){return this.firstElementChild instanceof HTMLImageElement?this.firstElementChild:null}get tone(){return(this.getAttribute("tone")||"").split(" ").map(a=>{const b=parseInt(a,10);return 0<=b&&5>=b?b:null}).filter(a=>"number"==typeof a).join(" ")}set tone(a){this.setAttribute("tone",a)}get size(){return this.getAttribute("size")}set size(a){this.setAttribute("size",a)}get alias(){return this.getAttribute("alias")}set alias(a){this.setAttribute("alias",a)}get verticalAlign(){return this.getAttribute("vertical-align")}set verticalAlign(a){this.setAttribute("vertical-align",a)}get textContent(){return this.dataset.emoji}set textContent(a){this.dataset.emoji=a}connectedCallback(){this.textContent=super.textContent,super.textContent="",this.appendChild(emojiImage(this)),updateTone(this),updateSize(this),updateAlias(this),updateVerticalAlign(this),updateDataEmoji(this)}static get observedAttributes(){return["tone","size","alias","vertical-align","data-emoji"]}attributeChangedCallback(a){"tone"===a?updateTone(this):"size"===a?updateSize(this):"alias"===a?updateAlias(this):"vertical-align"===a?updateVerticalAlign(this):"data-emoji"===a?updateDataEmoji(this):void 0}}let fnEmojiToUri;function emojiImage(){const a=document.createElement("img");a.className="emoji";const b=a.style;return b.display="inline-block",a}function tonedEmoji(a,b){if(!b)return a;const c=b.split(" ").map(a=>parseInt(a,10));if(0===c.length)a=removeTone(a||"");else if(1===c.length){const b=c[0];a=0===b?removeTone(a||""):applyTone(a||"",b)}else a=applyTones(a||"",c);return a}function updateTone(a){const b=tonedEmoji(a.textContent,a.tone);b!==a.textContent&&(a.textContent=b)}function updateSize(a){if(a.image){const b=a.image.style;b.height=b.width=a.size||"20px"}}function updateAlias(a){a.image&&(a.image.alt=a.alias||a.textContent)}function updateVerticalAlign(a){if(a.image){const b=a.image.style;b.verticalAlign=a.verticalAlign||"text-bottom"}}function updateDataEmoji(a){if(updateTone(a),!!a.image){if(fnEmojiToUri){const b=fnEmojiToUri(a.textContent);b?a.image.src=b:a.image.removeAttribute("src")}else a.image.removeAttribute("src");a.alias||(a.image.alt=a.textContent)}}export default GEmojiElement;